\documentclass[11pt]{article}

\usepackage[utf8]{inputenc}
\usepackage{listings}


%https://mysnippets443.wordpress.com/2015/11/28/latex-insert-javascript-code-with-lstlisting-package/
%Define the listing package
\usepackage{listings} %code highlighter
\usepackage{color} %use color
\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}
 
%Customize a bit the look
\lstset{ %
backgroundcolor=\color{white}, % choose the background color; you must add \usepackage{color} or \usepackage{xcolor}
basicstyle=\footnotesize, % the size of the fonts that are used for the code
breakatwhitespace=false, % sets if automatic breaks should only happen at whitespace
breaklines=true, % sets automatic line breaking
captionpos=b, % sets the caption-position to bottom
commentstyle=\color{mygreen}, % comment style
deletekeywords={...}, % if you want to delete keywords from the given language
escapeinside={\%*}{*)}, % if you want to add LaTeX within your code
extendedchars=true, % lets you use non-ASCII characters; for 8-bits encodings only, does not work with UTF-8
frame=single, % adds a frame around the code
keepspaces=true, % keeps spaces in text, useful for keeping indentation of code (possibly needs columns=flexible)
keywordstyle=\color{blue}, % keyword style
% language=Octave, % the language of the code
morekeywords={*,...}, % if you want to add more keywords to the set
numbers=left, % where to put the line-numbers; possible values are (none, left, right)
numbersep=5pt, % how far the line-numbers are from the code
numberstyle=\tiny\color{mygray}, % the style that is used for the line-numbers
rulecolor=\color{black}, % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. comments (green here))
showspaces=false, % show spaces everywhere adding particular underscores; it overrides 'showstringspaces'
showstringspaces=false, % underline spaces within strings only
showtabs=false, % show tabs within strings adding particular underscores
stepnumber=1, % the step between two line-numbers. If it's 1, each line will be numbered
stringstyle=\color{mymauve}, % string literal style
tabsize=2, % sets default tabsize to 2 spaces
title=\lstname % show the filename of files included with \lstinputlisting; also try caption instead of title
}
%END of listing package%
 
\definecolor{darkgray}{rgb}{.4,.4,.4}
\definecolor{purple}{rgb}{0.65, 0.12, 0.82}
 
%define Javascript language
\lstdefinelanguage{JavaScript}{
keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break},
keywordstyle=\color{blue}\bfseries,
ndkeywords={class, export, boolean, throw, implements, import, this},
ndkeywordstyle=\color{darkgray}\bfseries,
identifierstyle=\color{black},
sensitive=false,
comment=[l]{//},
morecomment=[s]{/*}{*/},
commentstyle=\color{purple}\ttfamily,
stringstyle=\color{red}\ttfamily,
morestring=[b]',
morestring=[b]"
}
 
\lstset{
language=JavaScript,
extendedchars=true,
basicstyle=\footnotesize\ttfamily,
showstringspaces=false,
showspaces=false,
numbers=left,
numberstyle=\footnotesize,
numbersep=9pt,
tabsize=2,
breaklines=true,
showtabs=false,
captionpos=b
}



\begin{document}

\title{Candide 2.0 ou l'optimisme en jeu vidéo }
\author{Nina Ionescu 3mg01}
\date{}
\maketitle

\section{Introduction}\
\textit {Il y avait en Westphalie...} Et si cet incipit mythique se retrouverait un jour pixelisé, cela donnerait quoi ? C'est ce à quoi j'ai essayé de répondre lors de ce travail de maturité, qui consistait à adapter \underline{Candide} de Voltaire en un jeu vidéo. L'objectif de base était de créer un jeu vidéo de type RPG (roleplay game) où le joueur incarnerait Candide.Il serait alors confrontés à diverses situations et prendrait des choix décisifs qui alterneraient l'histoire. Réaliser les graphismes du jeu faisait aussi partie de l'objectif.\


sources : \
Phaser.js par Richard Davey \
Phaser-tilemap-plus par Colin Vella \
Bosca Ceoil par Terry Cavanagh \
Pyxel Edit par Danik ( pseudonyme )\


\section{Fonctionement du code}
Ce projet a été réalisé en javascript, avec les additions de ECMAScript6 et de deux librairies conçues pour la réalisation de jeu-vidéo : Phaser.js ainsi que Phaser-tilemap-plus.js . La majorité du code comprend des objets et des classes créés afin de pouvoir les utiliser comme outils de création.
\subsection{Système général}
	Avant toute chose, il a fallu concevoir un système qui permette d'atteindre diverses variables au travers de tous les outils du jeu. C'est pourquoi l'objet "globals" (présent dans globals.js), une variable globale a été créée. Cet objet stocke toutes les variables afin d'y avoir accès facilement sans devoir se soucier des scopes des différentes classes et de leur méthodes.\\\\
	Pour retenir les diverses actions effectuées par le joueur ainsi que des données importantes telles que son positionement ou le décor actuellement chargé à l'écran, un autre objet global (présent dans gameRef.js) est utilisé. Il sert de référence pour itialiser le personnage incarné par le joueur dans l'état où ce dernier l'avait laissé.\\\\
 
 Afin d'étendre les possibilités futures de diffusion du projet, une option de traduction a été pensée dans le code de départ. Il s'agit d'un chiffre ( 0 pour le français, 1 pour l'anglais, ... ) stocké dans l'objet mentionné au paragraphe ci-dessus. Grâce à cette variable, la fonction de dialogList.js retourne les textes figurants dans le jeu dans leur bonne version. \\
 "exemple ? "
 \begin{lstlisting}[language=JavaScript]
 function setDialog(langue){
    switch(langue){
        case 0 : 
        globals.dialogs.myChar=["Bonjour"];
        break;
        case 1:
        globals.dialogs.myChar=["Hello"];
 		break;
 	}
 }I
\end{lstlisting}
\subsection{Gestion des states du jeu}
qu'est-ce qu'une state, comment ça marche etc...
\subsubsection{Boot et Preload}
boot fait démarrer le jeu, preload pour les assets etc...
\subsubsection{Menu Principal}
expliquer la fonction avec les boutons, dans un premier temps elle est avec une sprite sheet pour chaque langue, éventuelle amélioration.

\subsubsection{Game}
toutes les fonctions agissent ici, dans la partie create de phaser.
\subsubsection{Battle}
expliquer la dynamique de combat, les points de vie etc..
\subsection{Joueur}
expliquer les déplacements, les directions , les interactions etc...
\subsection{Les pnjs}
expliquer la classe, la bulle (classe) 
les interaction avec le joueur etc..
\subsection{Gestion des dialogues}
expliquer la police de caractères, la dynamique des choix, l'objet manager , la syntaxe (les arrays avec les callbacks etc...)
\subsection{Gestion du terrain}
expliquer les maps,collisions, tilesets,calques, warps , l'objet terrainmanager etc... expliquer le fail avec le tween manager pour le fade in et fade out.
\subsection{Interaction avec les objets}
à compléter idée: un objet possède ou non un callback 
\subsection{Gestion du menu et de l'inventaire}
à compléter
\subsection{Du code à l'application}
parler d'éléctron, npm, des packages.json, du favicon, de la fenêtre et des sauvegardes de la partie. (fenêtres)

\subsection{Publication}
système de sauvegarde , gitpages
\section{Scénario alternatif}
expliquer les dialogues, conserver le contenu tout en l'adaptant etc...donner des exemples de situations alternatives . et le résultat actuel
expliquer la complication, le rabotage etc..
\section{Conception des assets}
\subsection{Visuel}
logiciels utilisé , techniques(travailler avec des tiles, \\ couches de transparence...)\\ inspiration pour les personnages, dessins\\ originaux etc.. restrictions au niveau du pixel\\ art, base pour cohérence etc...
\subsubsection{Sprites de dialogues}
techniques(couches, dessins - restrictions), exemple 
\subsubsection{Sprites d'overworld}
techniques, exemples
\subsubsection{Tilesets}
techniques, exemples
\subsection{Musical}
logiciel utilisé , techniques (trouver une suite d'accord, les instruments etc..) , éventuellement les bruitages 
\section{Conclusion}

\end{document}
